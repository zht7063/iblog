# ç½®é¡¶åŠŸèƒ½ä½¿ç”¨è¯´æ˜

## åŠŸèƒ½ä»‹ç»

ç½®é¡¶åŠŸèƒ½å…è®¸ä½ å°†é‡è¦çš„åšå®¢æ–‡ç« å›ºå®šåœ¨é¦–é¡µæœ€ä¸Šæ–¹ï¼Œæ–¹ä¾¿è¯»è€…å¿«é€Ÿè®¿é—®é‡ç‚¹å†…å®¹ã€‚

## ä½¿ç”¨æ–¹æ³•

åœ¨ Markdown æ–‡ä»¶çš„ Frontmatter ä¸­æ·»åŠ  `pinned: true` å³å¯ï¼š

```yaml
---
title: ä½ çš„æ–‡ç« æ ‡é¢˜
date: 2026-02-13
category: æŠ€æœ¯
tags: [æ•™ç¨‹, Python]
pinned: true  # è®¾ç½®ä¸º true å³å¯ç½®é¡¶
---

# æ–‡ç« å†…å®¹...
```

## åŠŸèƒ½ç‰¹æ€§

### 1. è‡ªåŠ¨æ’åº
- ç½®é¡¶æ–‡ç« ä¼šè‡ªåŠ¨æ’åœ¨é¦–é¡µæœ€ä¸Šæ–¹
- å¤šä¸ªç½®é¡¶æ–‡ç« ä¹‹é—´æŒ‰æ—¥æœŸé™åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
- éç½®é¡¶æ–‡ç« æ’åœ¨æ‰€æœ‰ç½®é¡¶æ–‡ç« ä¹‹å

### 2. è§†è§‰æ ‡è¯†
ç½®é¡¶æ–‡ç« å…·æœ‰ç‹¬ç‰¹çš„è§†è§‰æ•ˆæœï¼š
- æ·¡é‡‘è‰²èƒŒæ™¯ï¼ˆ`rgba(255, 215, 0, 0.05)`ï¼‰
- å·¦ä¾§é‡‘è‰²è¾¹æ¡†ï¼ˆ`3px solid #ffd700`ï¼‰
- æ ‡é¢˜æ—è¾¹æ˜¾ç¤º "ğŸ“Œ ç½®é¡¶" å¾½ç« 
- æ‚¬åœæ—¶èƒŒæ™¯è‰²åŠ æ·±

### 3. å®Œæ•´ç¤ºä¾‹

```yaml
---
title: é‡è¦é€šçŸ¥ï¼šåšå®¢è¿ç§»å…¬å‘Š
date: 2026-02-13
category: å…¬å‘Š
tags: [é€šçŸ¥, é‡è¦]
description: åšå®¢å³å°†è¿ç§»åˆ°æ–°åŸŸåï¼Œè¯·å…³æ³¨æœ€æ–°åŠ¨æ€
pinned: true
---

# åšå®¢è¿ç§»å…¬å‘Š

æœ¬åšå®¢å°†äº 2026 å¹´ 3 æœˆ 1 æ—¥è¿ç§»åˆ°æ–°åŸŸå...
```

## æ’åºè§„åˆ™è¯¦è§£

å‡è®¾æœ‰ä»¥ä¸‹æ–‡ç« ï¼š

| æ–‡ç«  | æ—¥æœŸ | ç½®é¡¶çŠ¶æ€ |
|------|------|----------|
| æ–‡ç«  A | 2026-02-10 | pinned: true |
| æ–‡ç«  B | 2026-02-15 | pinned: true |
| æ–‡ç«  C | 2026-02-20 | ä¸ç½®é¡¶ |
| æ–‡ç«  D | 2026-02-05 | ä¸ç½®é¡¶ |

æœ€ç»ˆæ’åºç»“æœï¼š

1. **æ–‡ç«  B**ï¼ˆ2026-02-15ï¼Œç½®é¡¶ï¼‰â† æœ€æ–°çš„ç½®é¡¶æ–‡ç« 
2. **æ–‡ç«  A**ï¼ˆ2026-02-10ï¼Œç½®é¡¶ï¼‰â† è¾ƒæ—©çš„ç½®é¡¶æ–‡ç« 
3. æ–‡ç«  Cï¼ˆ2026-02-20ï¼Œéç½®é¡¶ï¼‰â† æœ€æ–°çš„éç½®é¡¶æ–‡ç« 
4. æ–‡ç«  Dï¼ˆ2026-02-05ï¼Œéç½®é¡¶ï¼‰â† è¾ƒæ—©çš„éç½®é¡¶æ–‡ç« 

## æŠ€æœ¯å®ç°

### 1. å…ƒæ•°æ®è§£æ
åœ¨ `MetadataParser` ä¸­æ·»åŠ äº† `pinned` å­—æ®µéªŒè¯ï¼š

```python
# ç¡®ä¿ pinned å­—æ®µå­˜åœ¨ï¼ˆç”¨äºç½®é¡¶åŠŸèƒ½ï¼‰
if "pinned" not in validated:
    validated["pinned"] = False
elif not isinstance(validated["pinned"], bool):
    # å¦‚æœä¸æ˜¯å¸ƒå°”å€¼ï¼Œå°è¯•è½¬æ¢
    validated["pinned"] = bool(validated["pinned"])
```

### 2. æ’åºé€»è¾‘
åœ¨ `FileScanner` ä¸­æ·»åŠ äº† `sort_by_pinned_and_date` æ–¹æ³•ï¼š

```python
def sort_by_pinned_and_date(self, posts: list[dict], reverse: bool = True) -> list[dict]:
    # å…ˆæŒ‰æ—¥æœŸæ’åº
    sorted_posts = sorted(
        posts,
        key=lambda p: p["metadata"].get("date", ""),
        reverse=reverse
    )
    # å†æŒ‰ç½®é¡¶çŠ¶æ€æ’åºï¼ˆç¨³å®šæ’åºï¼Œä¿æŒæ—¥æœŸé¡ºåºï¼‰
    sorted_posts = sorted(
        sorted_posts,
        key=lambda p: not p["metadata"].get("pinned", False)
    )
    return sorted_posts
```

### 3. æ¨¡æ¿æ¸²æŸ“
åœ¨ `index.html` æ¨¡æ¿ä¸­ï¼š
- ä¸ºç½®é¡¶æ–‡ç« æ·»åŠ  `pinned` CSS ç±»
- åœ¨æ ‡é¢˜æ—æ˜¾ç¤º "ğŸ“Œ ç½®é¡¶" å¾½ç« 
- åº”ç”¨ç‰¹æ®Šçš„èƒŒæ™¯è‰²å’Œè¾¹æ¡†æ ·å¼

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å–æ¶ˆç½®é¡¶ï¼Ÿ
**A:** å°† `pinned: true` æ”¹ä¸º `pinned: false`ï¼Œæˆ–ç›´æ¥åˆ é™¤è¯¥å­—æ®µã€‚

### Q: å¯ä»¥ç½®é¡¶å¤šå°‘ç¯‡æ–‡ç« ï¼Ÿ
**A:** æ²¡æœ‰æ•°é‡é™åˆ¶ï¼Œä½†å»ºè®®ä¸è¦è¶…è¿‡ 3-5 ç¯‡ï¼Œä»¥å…é™ä½ç½®é¡¶æ•ˆæœã€‚

### Q: ç½®é¡¶æ–‡ç« åœ¨å…¶ä»–é¡µé¢ï¼ˆåˆ†ç±»ã€æ ‡ç­¾ï¼‰ä¸­çš„è¡¨ç°å¦‚ä½•ï¼Ÿ
**A:** ç½®é¡¶åŠŸèƒ½ä»…åœ¨é¦–é¡µç”Ÿæ•ˆï¼Œåˆ†ç±»å’Œæ ‡ç­¾é¡µé¢ä»æŒ‰æ—¥æœŸæ’åºã€‚

### Q: èƒ½å¦è‡ªå®šä¹‰ç½®é¡¶æ ·å¼ï¼Ÿ
**A:** å¯ä»¥ï¼ä¿®æ”¹ `templates/index.html` ä¸­çš„ CSS æ ·å¼å³å¯ï¼š
- `.post-card.pinned`: ç½®é¡¶æ–‡ç« æ ·å¼
- `.pinned-badge`: ç½®é¡¶å¾½ç« æ ·å¼

---

*åˆ›å»ºæ—¶é—´ï¼š2026-02-13*  
*åŠŸèƒ½ç‰ˆæœ¬ï¼šv1.0*
